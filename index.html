<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Titre et description génériques (fallback) -->
    <title data-i18n="title"></title>
    <meta
      name="description"
      content="Une plateforme web moderne pour présenter les services de laboratoires médicaux."
    />

    <!-- Favicon -->
    <link rel="preload" href="/fonts/myfont.woff2" as="font" type="font/woff2" crossorigin="anonymous" />
    <link rel="icon" href="/favicon.png" as="image" />

    <!-- Polices, styles globaux, etc. -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />

    <!-- Canonical URL de base -->
    <link rel="canonical" href="https://leslaboratoireszeroual.ma" />

    <style>
      .language-switcher {
        position: fixed;
        top: 10px;
        right: 10px;
        z-index: 1000;
      }

      html[dir="rtl"] body {
        direction: rtl;
        text-align: right;
      }
    </style>
  </head>
  <body>
    <div class="language-switcher">
      <select id="languageSwitcher">
        <option value="fr">Français</option>
        <option value="ar">العربية</option>
        <option value="es">Español</option>
      </select>
    </div>

    <h1 data-i18n="title"></h1>
    <p data-i18n="welcome"></p>

    <div id="root"></div>

    <script type="module" src="/src/main.tsx"></script>

    <script>
      const translations = {
        fr: {
          title: 'Les Laboratoires Zeroual',
          welcome: 'Bienvenue sur notre site'
        },
        ar: {
          title: 'مختبرات زروال',
          welcome: 'مرحبًا بكم في موقعنا'
        },
        es: {
          title: 'Los Laboratorios Zeroual',
          welcome: 'Bienvenido a nuestro sitio'
        }
      };

      const switcher = document.getElementById('languageSwitcher');

      function updateContent(lang) {
        const elements = document.querySelectorAll('[data-i18n]');
        elements.forEach((el) => {
          const key = el.getAttribute('data-i18n');
          el.textContent = translations[lang][key] || '';
        });
        document.documentElement.lang = lang;
        document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
      }

      switcher.addEventListener('change', (e) => {
        updateContent(e.target.value);
      });

      updateContent('fr');
    </script>

    <!-- FontAwesome -->
    <script src="https://kit.fontawesome.com/TON_KIT.js" crossorigin="anonymous"></script>
  </body>
</html>
